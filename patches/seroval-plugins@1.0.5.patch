diff --git a/dist/cjs/development/web.cjs b/dist/cjs/development/web.cjs
index 8348169227b640fc485f0c12ac6b690b5c0e3652..eafdd7050952ecade81249e887d8eb9c36d182bb 100644
--- a/dist/cjs/development/web.cjs
+++ b/dist/cjs/development/web.cjs
@@ -530,7 +530,7 @@ function createRequestOptions(current, body) {
     integrity: current.integrity,
     keepalive: current.keepalive,
     method: current.method,
-    mode: current.mode,
+    // mode: current.mode,
     redirect: current.redirect,
     referrer: current.referrer,
     referrerPolicy: current.referrerPolicy
diff --git a/dist/cjs/production/web.cjs b/dist/cjs/production/web.cjs
index e3313e4b9f4efc8c5ebc7432a0ae4ad2543a64d3..a9d2245c23005dceb7f7ee8b49eff845c76e3f63 100644
--- a/dist/cjs/production/web.cjs
+++ b/dist/cjs/production/web.cjs
@@ -1 +1 @@
-"use strict";var d=Object.defineProperty;var Y=Object.getOwnPropertyDescriptor;var V=Object.getOwnPropertyNames;var G=Object.prototype.hasOwnProperty;var J=(e,r)=>{for(var s in r)d(e,s,{get:r[s],enumerable:!0})},K=(e,r,s,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of V(r))!G.call(e,a)&&a!==s&&d(e,a,{get:()=>r[a],enumerable:!(t=Y(r,a))||t.enumerable});return e};var Q=e=>K(d({},"__esModule",{value:!0}),e);var ue={};J(ue,{BlobPlugin:()=>z,CustomEventPlugin:()=>b,DOMExceptionPlugin:()=>P,EventPlugin:()=>h,FilePlugin:()=>u,FormDataPlugin:()=>F,HeadersPlugin:()=>n,ImageDataPlugin:()=>B,ReadableStreamPlugin:()=>o,RequestPlugin:()=>U,ResponsePlugin:()=>M,URLPlugin:()=>k,URLSearchParamsPlugin:()=>T});module.exports=Q(ue);var v=require("seroval"),W=(0,v.createPlugin)({tag:"seroval-plugins/web/Blob",test(e){return typeof Blob=="undefined"?!1:e instanceof Blob},parse:{async async(e,r){return{type:await r.parse(e.type),buffer:await r.parse(await e.arrayBuffer())}}},serialize(e,r){return"new Blob(["+r.serialize(e.buffer)+"],{type:"+r.serialize(e.type)+"})"},deserialize(e,r){return new Blob([r.deserialize(e.buffer)],{type:r.deserialize(e.type)})}}),z=W;var S=require("seroval");function f(e){return{detail:e.detail,bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}}var X=(0,S.createPlugin)({tag:"seroval-plugins/web/CustomEvent",test(e){return typeof CustomEvent=="undefined"?!1:e instanceof CustomEvent},parse:{sync(e,r){return{type:r.parse(e.type),options:r.parse(f(e))}},async async(e,r){return{type:await r.parse(e.type),options:await r.parse(f(e))}},stream(e,r){return{type:r.parse(e.type),options:r.parse(f(e))}}},serialize(e,r){return"new CustomEvent("+r.serialize(e.type)+","+r.serialize(e.options)+")"},deserialize(e,r){return new CustomEvent(r.deserialize(e.type),r.deserialize(e.options))}}),b=X;var R=require("seroval"),Z=(0,R.createPlugin)({tag:"seroval-plugins/web/DOMException",test(e){return typeof DOMException=="undefined"?!1:e instanceof DOMException},parse:{sync(e,r){return{name:r.parse(e.name),message:r.parse(e.message)}},async async(e,r){return{name:await r.parse(e.name),message:await r.parse(e.message)}},stream(e,r){return{name:r.parse(e.name),message:r.parse(e.message)}}},serialize(e,r){return"new DOMException("+r.serialize(e.message)+","+r.serialize(e.name)+")"},deserialize(e,r){return new DOMException(r.deserialize(e.message),r.deserialize(e.name))}}),P=Z;var N=require("seroval");function m(e){return{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}}var $=(0,N.createPlugin)({tag:"seroval-plugins/web/Event",test(e){return typeof Event=="undefined"?!1:e instanceof Event},parse:{sync(e,r){return{type:r.parse(e.type),options:r.parse(m(e))}},async async(e,r){return{type:await r.parse(e.type),options:await r.parse(m(e))}},stream(e,r){return{type:r.parse(e.type),options:r.parse(m(e))}}},serialize(e,r){return"new Event("+r.serialize(e.type)+","+r.serialize(e.options)+")"},deserialize(e,r){return new Event(r.deserialize(e.type),r.deserialize(e.options))}}),h=$;var E=require("seroval"),x=(0,E.createPlugin)({tag:"seroval-plugins/web/File",test(e){return typeof File=="undefined"?!1:e instanceof File},parse:{async async(e,r){return{name:await r.parse(e.name),options:await r.parse({type:e.type,lastModified:e.lastModified}),buffer:await r.parse(await e.arrayBuffer())}}},serialize(e,r){return"new File(["+r.serialize(e.buffer)+"],"+r.serialize(e.name)+","+r.serialize(e.options)+")"},deserialize(e,r){return new File([r.deserialize(e.buffer)],r.deserialize(e.name),r.deserialize(e.options))}}),u=x;var y=require("seroval");function c(e){let r=[];return e.forEach((s,t)=>{r.push([t,s])}),r}var l={},ee=(0,y.createPlugin)({tag:"seroval-plugins/web/FormDataFactory",test(e){return e===l},parse:{sync(){},async async(){return await Promise.resolve(void 0)},stream(){}},serialize(e,r){return r.createEffectfulFunction(["e","f","i","s","t"],"f=new FormData;for(i=0,s=e.length;i<s;i++)f.append((t=e[i])[0],t[1]);return f")},deserialize(){return l}}),re=(0,y.createPlugin)({tag:"seroval-plugins/web/FormData",extends:[u,ee],test(e){return typeof FormData=="undefined"?!1:e instanceof FormData},parse:{sync(e,r){return{factory:r.parse(l),entries:r.parse(c(e))}},async async(e,r){return{factory:await r.parse(l),entries:await r.parse(c(e))}},stream(e,r){return{factory:r.parse(l),entries:r.parse(c(e))}}},serialize(e,r){return"("+r.serialize(e.factory)+")("+r.serialize(e.entries)+")"},deserialize(e,r){let s=new FormData,t=r.deserialize(e.entries);for(let a=0,j=t.length;a<j;a++){let w=t[a];s.append(w[0],w[1])}return s}}),F=re;var D=require("seroval");function g(e){let r=[];return e.forEach((s,t)=>{r.push([t,s])}),r}var ae=(0,D.createPlugin)({tag:"seroval-plugins/web/Headers",test(e){return typeof Headers=="undefined"?!1:e instanceof Headers},parse:{sync(e,r){return r.parse(g(e))},async async(e,r){return await r.parse(g(e))},stream(e,r){return r.parse(g(e))}},serialize(e,r){return"new Headers("+r.serialize(e)+")"},deserialize(e,r){return new Headers(r.deserialize(e))}}),n=ae;var I=require("seroval"),te=(0,I.createPlugin)({tag:"seroval-plugins/web/ImageData",test(e){return typeof ImageData=="undefined"?!1:e instanceof ImageData},parse:{sync(e,r){return{data:r.parse(e.data),width:r.parse(e.width),height:r.parse(e.height),options:r.parse({colorSpace:e.colorSpace})}},async async(e,r){return{data:await r.parse(e.data),width:await r.parse(e.width),height:await r.parse(e.height),options:await r.parse({colorSpace:e.colorSpace})}},stream(e,r){return{data:r.parse(e.data),width:r.parse(e.width),height:r.parse(e.height),options:r.parse({colorSpace:e.colorSpace})}}},serialize(e,r){return"new ImageData("+r.serialize(e.data)+","+r.serialize(e.width)+","+r.serialize(e.height)+","+r.serialize(e.options)+")"},deserialize(e,r){return new ImageData(r.deserialize(e.data),r.deserialize(e.width),r.deserialize(e.height),r.deserialize(e.options))}}),B=te;var i=require("seroval"),p={},se=(0,i.createPlugin)({tag:"seroval-plugins/web/ReadableStreamFactory",test(e){return e===p},parse:{sync(){},async async(){return await Promise.resolve(void 0)},stream(){}},serialize(e,r){return r.createFunction(["d"],"new ReadableStream({start:"+r.createEffectfulFunction(["c"],"d.on({next:"+r.createEffectfulFunction(["v"],"c.enqueue(v)")+",throw:"+r.createEffectfulFunction(["v"],"c.error(v)")+",return:"+r.createEffectfulFunction([],"c.close()")+"})")+"})")},deserialize(){return p}});function C(e){let r=(0,i.createStream)(),s=e.getReader();async function t(){try{let a=await s.read();a.done?r.return(a.value):(r.next(a.value),await t())}catch(a){r.throw(a)}}return t().catch(()=>{}),r}var ne=(0,i.createPlugin)({tag:"seroval/plugins/web/ReadableStream",extends:[se],test(e){return typeof ReadableStream=="undefined"?!1:e instanceof ReadableStream},parse:{sync(e,r){return{factory:r.parse(p),stream:r.parse((0,i.createStream)())}},async async(e,r){return{factory:await r.parse(p),stream:await r.parse(C(e))}},stream(e,r){return{factory:r.parse(p),stream:r.parse(C(e))}}},serialize(e,r){return"("+r.serialize(e.factory)+")("+r.serialize(e.stream)+")"},deserialize(e,r){let s=r.deserialize(e.stream);return new ReadableStream({start(t){s.on({next(a){t.enqueue(a)},throw(a){t.error(a)},return(){t.close()}})}})}}),o=ne;var O=require("seroval");function L(e,r){return{body:r,cache:e.cache,credentials:e.credentials,headers:e.headers,integrity:e.integrity,keepalive:e.keepalive,method:e.method,mode:e.mode,redirect:e.redirect,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var ie=(0,O.createPlugin)({tag:"seroval-plugins/web/Request",extends:[o,n],test(e){return typeof Request=="undefined"?!1:e instanceof Request},parse:{async async(e,r){return{url:await r.parse(e.url),options:await r.parse(L(e,e.body?await e.clone().arrayBuffer():null))}},stream(e,r){return{url:r.parse(e.url),options:r.parse(L(e,e.clone().body))}}},serialize(e,r){return"new Request("+r.serialize(e.url)+","+r.serialize(e.options)+")"},deserialize(e,r){return new Request(r.deserialize(e.url),r.deserialize(e.options))}}),U=ie;var H=require("seroval");function q(e){return{headers:e.headers,status:e.status,statusText:e.statusText}}var oe=(0,H.createPlugin)({tag:"seroval-plugins/web/Response",extends:[o,n],test(e){return typeof Response=="undefined"?!1:e instanceof Response},parse:{async async(e,r){return{body:await r.parse(e.body?await e.clone().arrayBuffer():null),options:await r.parse(q(e))}},stream(e,r){return{body:r.parse(e.clone().body),options:r.parse(q(e))}}},serialize(e,r){return"new Response("+r.serialize(e.body)+","+r.serialize(e.options)+")"},deserialize(e,r){return new Response(r.deserialize(e.body),r.deserialize(e.options))}}),M=oe;var A=require("seroval"),le=(0,A.createPlugin)({tag:"seroval-plugins/web/URLSearchParams",test(e){return typeof URLSearchParams=="undefined"?!1:e instanceof URLSearchParams},parse:{sync(e,r){return r.parse(e.toString())},async async(e,r){return await r.parse(e.toString())},stream(e,r){return r.parse(e.toString())}},serialize(e,r){return"new URLSearchParams("+r.serialize(e)+")"},deserialize(e,r){return new URLSearchParams(r.deserialize(e))}}),T=le;var _=require("seroval"),pe=(0,_.createPlugin)({tag:"seroval-plugins/web/URL",test(e){return typeof URL=="undefined"?!1:e instanceof URL},parse:{sync(e,r){return r.parse(e.href)},async async(e,r){return await r.parse(e.href)},stream(e,r){return r.parse(e.href)}},serialize(e,r){return"new URL("+r.serialize(e)+")"},deserialize(e,r){return new URL(r.deserialize(e))}}),k=pe;
+"use strict";var d=Object.defineProperty;var Y=Object.getOwnPropertyDescriptor;var V=Object.getOwnPropertyNames;var G=Object.prototype.hasOwnProperty;var J=(e,r)=>{for(var s in r)d(e,s,{get:r[s],enumerable:!0})},K=(e,r,s,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of V(r))!G.call(e,a)&&a!==s&&d(e,a,{get:()=>r[a],enumerable:!(t=Y(r,a))||t.enumerable});return e};var Q=e=>K(d({},"__esModule",{value:!0}),e);var ue={};J(ue,{BlobPlugin:()=>z,CustomEventPlugin:()=>b,DOMExceptionPlugin:()=>P,EventPlugin:()=>h,FilePlugin:()=>u,FormDataPlugin:()=>F,HeadersPlugin:()=>n,ImageDataPlugin:()=>B,ReadableStreamPlugin:()=>o,RequestPlugin:()=>U,ResponsePlugin:()=>M,URLPlugin:()=>k,URLSearchParamsPlugin:()=>T});module.exports=Q(ue);var v=require("seroval"),W=(0,v.createPlugin)({tag:"seroval-plugins/web/Blob",test(e){return typeof Blob=="undefined"?!1:e instanceof Blob},parse:{async async(e,r){return{type:await r.parse(e.type),buffer:await r.parse(await e.arrayBuffer())}}},serialize(e,r){return"new Blob(["+r.serialize(e.buffer)+"],{type:"+r.serialize(e.type)+"})"},deserialize(e,r){return new Blob([r.deserialize(e.buffer)],{type:r.deserialize(e.type)})}}),z=W;var S=require("seroval");function f(e){return{detail:e.detail,bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}}var X=(0,S.createPlugin)({tag:"seroval-plugins/web/CustomEvent",test(e){return typeof CustomEvent=="undefined"?!1:e instanceof CustomEvent},parse:{sync(e,r){return{type:r.parse(e.type),options:r.parse(f(e))}},async async(e,r){return{type:await r.parse(e.type),options:await r.parse(f(e))}},stream(e,r){return{type:r.parse(e.type),options:r.parse(f(e))}}},serialize(e,r){return"new CustomEvent("+r.serialize(e.type)+","+r.serialize(e.options)+")"},deserialize(e,r){return new CustomEvent(r.deserialize(e.type),r.deserialize(e.options))}}),b=X;var R=require("seroval"),Z=(0,R.createPlugin)({tag:"seroval-plugins/web/DOMException",test(e){return typeof DOMException=="undefined"?!1:e instanceof DOMException},parse:{sync(e,r){return{name:r.parse(e.name),message:r.parse(e.message)}},async async(e,r){return{name:await r.parse(e.name),message:await r.parse(e.message)}},stream(e,r){return{name:r.parse(e.name),message:r.parse(e.message)}}},serialize(e,r){return"new DOMException("+r.serialize(e.message)+","+r.serialize(e.name)+")"},deserialize(e,r){return new DOMException(r.deserialize(e.message),r.deserialize(e.name))}}),P=Z;var N=require("seroval");function m(e){return{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}}var $=(0,N.createPlugin)({tag:"seroval-plugins/web/Event",test(e){return typeof Event=="undefined"?!1:e instanceof Event},parse:{sync(e,r){return{type:r.parse(e.type),options:r.parse(m(e))}},async async(e,r){return{type:await r.parse(e.type),options:await r.parse(m(e))}},stream(e,r){return{type:r.parse(e.type),options:r.parse(m(e))}}},serialize(e,r){return"new Event("+r.serialize(e.type)+","+r.serialize(e.options)+")"},deserialize(e,r){return new Event(r.deserialize(e.type),r.deserialize(e.options))}}),h=$;var E=require("seroval"),x=(0,E.createPlugin)({tag:"seroval-plugins/web/File",test(e){return typeof File=="undefined"?!1:e instanceof File},parse:{async async(e,r){return{name:await r.parse(e.name),options:await r.parse({type:e.type,lastModified:e.lastModified}),buffer:await r.parse(await e.arrayBuffer())}}},serialize(e,r){return"new File(["+r.serialize(e.buffer)+"],"+r.serialize(e.name)+","+r.serialize(e.options)+")"},deserialize(e,r){return new File([r.deserialize(e.buffer)],r.deserialize(e.name),r.deserialize(e.options))}}),u=x;var y=require("seroval");function c(e){let r=[];return e.forEach((s,t)=>{r.push([t,s])}),r}var l={},ee=(0,y.createPlugin)({tag:"seroval-plugins/web/FormDataFactory",test(e){return e===l},parse:{sync(){},async async(){return await Promise.resolve(void 0)},stream(){}},serialize(e,r){return r.createEffectfulFunction(["e","f","i","s","t"],"f=new FormData;for(i=0,s=e.length;i<s;i++)f.append((t=e[i])[0],t[1]);return f")},deserialize(){return l}}),re=(0,y.createPlugin)({tag:"seroval-plugins/web/FormData",extends:[u,ee],test(e){return typeof FormData=="undefined"?!1:e instanceof FormData},parse:{sync(e,r){return{factory:r.parse(l),entries:r.parse(c(e))}},async async(e,r){return{factory:await r.parse(l),entries:await r.parse(c(e))}},stream(e,r){return{factory:r.parse(l),entries:r.parse(c(e))}}},serialize(e,r){return"("+r.serialize(e.factory)+")("+r.serialize(e.entries)+")"},deserialize(e,r){let s=new FormData,t=r.deserialize(e.entries);for(let a=0,j=t.length;a<j;a++){let w=t[a];s.append(w[0],w[1])}return s}}),F=re;var D=require("seroval");function g(e){let r=[];return e.forEach((s,t)=>{r.push([t,s])}),r}var ae=(0,D.createPlugin)({tag:"seroval-plugins/web/Headers",test(e){return typeof Headers=="undefined"?!1:e instanceof Headers},parse:{sync(e,r){return r.parse(g(e))},async async(e,r){return await r.parse(g(e))},stream(e,r){return r.parse(g(e))}},serialize(e,r){return"new Headers("+r.serialize(e)+")"},deserialize(e,r){return new Headers(r.deserialize(e))}}),n=ae;var I=require("seroval"),te=(0,I.createPlugin)({tag:"seroval-plugins/web/ImageData",test(e){return typeof ImageData=="undefined"?!1:e instanceof ImageData},parse:{sync(e,r){return{data:r.parse(e.data),width:r.parse(e.width),height:r.parse(e.height),options:r.parse({colorSpace:e.colorSpace})}},async async(e,r){return{data:await r.parse(e.data),width:await r.parse(e.width),height:await r.parse(e.height),options:await r.parse({colorSpace:e.colorSpace})}},stream(e,r){return{data:r.parse(e.data),width:r.parse(e.width),height:r.parse(e.height),options:r.parse({colorSpace:e.colorSpace})}}},serialize(e,r){return"new ImageData("+r.serialize(e.data)+","+r.serialize(e.width)+","+r.serialize(e.height)+","+r.serialize(e.options)+")"},deserialize(e,r){return new ImageData(r.deserialize(e.data),r.deserialize(e.width),r.deserialize(e.height),r.deserialize(e.options))}}),B=te;var i=require("seroval"),p={},se=(0,i.createPlugin)({tag:"seroval-plugins/web/ReadableStreamFactory",test(e){return e===p},parse:{sync(){},async async(){return await Promise.resolve(void 0)},stream(){}},serialize(e,r){return r.createFunction(["d"],"new ReadableStream({start:"+r.createEffectfulFunction(["c"],"d.on({next:"+r.createEffectfulFunction(["v"],"c.enqueue(v)")+",throw:"+r.createEffectfulFunction(["v"],"c.error(v)")+",return:"+r.createEffectfulFunction([],"c.close()")+"})")+"})")},deserialize(){return p}});function C(e){let r=(0,i.createStream)(),s=e.getReader();async function t(){try{let a=await s.read();a.done?r.return(a.value):(r.next(a.value),await t())}catch(a){r.throw(a)}}return t().catch(()=>{}),r}var ne=(0,i.createPlugin)({tag:"seroval/plugins/web/ReadableStream",extends:[se],test(e){return typeof ReadableStream=="undefined"?!1:e instanceof ReadableStream},parse:{sync(e,r){return{factory:r.parse(p),stream:r.parse((0,i.createStream)())}},async async(e,r){return{factory:await r.parse(p),stream:await r.parse(C(e))}},stream(e,r){return{factory:r.parse(p),stream:r.parse(C(e))}}},serialize(e,r){return"("+r.serialize(e.factory)+")("+r.serialize(e.stream)+")"},deserialize(e,r){let s=r.deserialize(e.stream);return new ReadableStream({start(t){s.on({next(a){t.enqueue(a)},throw(a){t.error(a)},return(){t.close()}})}})}}),o=ne;var O=require("seroval");function L(e,r){return{body:r,cache:e.cache,headers:e.headers,integrity:e.integrity,keepalive:e.keepalive,method:e.method,redirect:e.redirect,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var ie=(0,O.createPlugin)({tag:"seroval-plugins/web/Request",extends:[o,n],test(e){return typeof Request=="undefined"?!1:e instanceof Request},parse:{async async(e,r){return{url:await r.parse(e.url),options:await r.parse(L(e,e.body?await e.clone().arrayBuffer():null))}},stream(e,r){return{url:r.parse(e.url),options:r.parse(L(e,e.clone().body))}}},serialize(e,r){return"new Request("+r.serialize(e.url)+","+r.serialize(e.options)+")"},deserialize(e,r){return new Request(r.deserialize(e.url),r.deserialize(e.options))}}),U=ie;var H=require("seroval");function q(e){return{headers:e.headers,status:e.status,statusText:e.statusText}}var oe=(0,H.createPlugin)({tag:"seroval-plugins/web/Response",extends:[o,n],test(e){return typeof Response=="undefined"?!1:e instanceof Response},parse:{async async(e,r){return{body:await r.parse(e.body?await e.clone().arrayBuffer():null),options:await r.parse(q(e))}},stream(e,r){return{body:r.parse(e.clone().body),options:r.parse(q(e))}}},serialize(e,r){return"new Response("+r.serialize(e.body)+","+r.serialize(e.options)+")"},deserialize(e,r){return new Response(r.deserialize(e.body),r.deserialize(e.options))}}),M=oe;var A=require("seroval"),le=(0,A.createPlugin)({tag:"seroval-plugins/web/URLSearchParams",test(e){return typeof URLSearchParams=="undefined"?!1:e instanceof URLSearchParams},parse:{sync(e,r){return r.parse(e.toString())},async async(e,r){return await r.parse(e.toString())},stream(e,r){return r.parse(e.toString())}},serialize(e,r){return"new URLSearchParams("+r.serialize(e)+")"},deserialize(e,r){return new URLSearchParams(r.deserialize(e))}}),T=le;var _=require("seroval"),pe=(0,_.createPlugin)({tag:"seroval-plugins/web/URL",test(e){return typeof URL=="undefined"?!1:e instanceof URL},parse:{sync(e,r){return r.parse(e.href)},async async(e,r){return await r.parse(e.href)},stream(e,r){return r.parse(e.href)}},serialize(e,r){return"new URL("+r.serialize(e)+")"},deserialize(e,r){return new URL(r.deserialize(e))}}),k=pe;
diff --git a/dist/esm/development/web.mjs b/dist/esm/development/web.mjs
index 978cdf69aafa0b47c4e3dce2bbcaec37c46054a6..7bb94ca4ec1b24195be299b945a3556b97d24275 100644
--- a/dist/esm/development/web.mjs
+++ b/dist/esm/development/web.mjs
@@ -492,7 +492,7 @@ function createRequestOptions(current, body) {
     integrity: current.integrity,
     keepalive: current.keepalive,
     method: current.method,
-    mode: current.mode,
+    // mode: current.mode,
     redirect: current.redirect,
     referrer: current.referrer,
     referrerPolicy: current.referrerPolicy
diff --git a/dist/esm/production/web.mjs b/dist/esm/production/web.mjs
index 3b17f1a26f7ae2f39c6ef8cb0c8cf13183cd87d4..f562591cb74d4222ae14f6b381022d222d783d99 100644
--- a/dist/esm/production/web.mjs
+++ b/dist/esm/production/web.mjs
@@ -1 +1 @@
-import{createPlugin as R}from"seroval";var P=R({tag:"seroval-plugins/web/Blob",test(e){return typeof Blob=="undefined"?!1:e instanceof Blob},parse:{async async(e,r){return{type:await r.parse(e.type),buffer:await r.parse(await e.arrayBuffer())}}},serialize(e,r){return"new Blob(["+r.serialize(e.buffer)+"],{type:"+r.serialize(e.type)+"})"},deserialize(e,r){return new Blob([r.deserialize(e.buffer)],{type:r.deserialize(e.type)})}}),N=P;import{createPlugin as h}from"seroval";function p(e){return{detail:e.detail,bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}}var E=h({tag:"seroval-plugins/web/CustomEvent",test(e){return typeof CustomEvent=="undefined"?!1:e instanceof CustomEvent},parse:{sync(e,r){return{type:r.parse(e.type),options:r.parse(p(e))}},async async(e,r){return{type:await r.parse(e.type),options:await r.parse(p(e))}},stream(e,r){return{type:r.parse(e.type),options:r.parse(p(e))}}},serialize(e,r){return"new CustomEvent("+r.serialize(e.type)+","+r.serialize(e.options)+")"},deserialize(e,r){return new CustomEvent(r.deserialize(e.type),r.deserialize(e.options))}}),F=E;import{createPlugin as D}from"seroval";var I=D({tag:"seroval-plugins/web/DOMException",test(e){return typeof DOMException=="undefined"?!1:e instanceof DOMException},parse:{sync(e,r){return{name:r.parse(e.name),message:r.parse(e.message)}},async async(e,r){return{name:await r.parse(e.name),message:await r.parse(e.message)}},stream(e,r){return{name:r.parse(e.name),message:r.parse(e.message)}}},serialize(e,r){return"new DOMException("+r.serialize(e.message)+","+r.serialize(e.name)+")"},deserialize(e,r){return new DOMException(r.deserialize(e.message),r.deserialize(e.name))}}),B=I;import{createPlugin as C}from"seroval";function u(e){return{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}}var L=C({tag:"seroval-plugins/web/Event",test(e){return typeof Event=="undefined"?!1:e instanceof Event},parse:{sync(e,r){return{type:r.parse(e.type),options:r.parse(u(e))}},async async(e,r){return{type:await r.parse(e.type),options:await r.parse(u(e))}},stream(e,r){return{type:r.parse(e.type),options:r.parse(u(e))}}},serialize(e,r){return"new Event("+r.serialize(e.type)+","+r.serialize(e.options)+")"},deserialize(e,r){return new Event(r.deserialize(e.type),r.deserialize(e.options))}}),O=L;import{createPlugin as U}from"seroval";var q=U({tag:"seroval-plugins/web/File",test(e){return typeof File=="undefined"?!1:e instanceof File},parse:{async async(e,r){return{name:await r.parse(e.name),options:await r.parse({type:e.type,lastModified:e.lastModified}),buffer:await r.parse(await e.arrayBuffer())}}},serialize(e,r){return"new File(["+r.serialize(e.buffer)+"],"+r.serialize(e.name)+","+r.serialize(e.options)+")"},deserialize(e,r){return new File([r.deserialize(e.buffer)],r.deserialize(e.name),r.deserialize(e.options))}}),d=q;import{createPlugin as y}from"seroval";function f(e){let r=[];return e.forEach((s,a)=>{r.push([a,s])}),r}var n={},H=y({tag:"seroval-plugins/web/FormDataFactory",test(e){return e===n},parse:{sync(){},async async(){return await Promise.resolve(void 0)},stream(){}},serialize(e,r){return r.createEffectfulFunction(["e","f","i","s","t"],"f=new FormData;for(i=0,s=e.length;i<s;i++)f.append((t=e[i])[0],t[1]);return f")},deserialize(){return n}}),M=y({tag:"seroval-plugins/web/FormData",extends:[d,H],test(e){return typeof FormData=="undefined"?!1:e instanceof FormData},parse:{sync(e,r){return{factory:r.parse(n),entries:r.parse(f(e))}},async async(e,r){return{factory:await r.parse(n),entries:await r.parse(f(e))}},stream(e,r){return{factory:r.parse(n),entries:r.parse(f(e))}}},serialize(e,r){return"("+r.serialize(e.factory)+")("+r.serialize(e.entries)+")"},deserialize(e,r){let s=new FormData,a=r.deserialize(e.entries);for(let t=0,b=a.length;t<b;t++){let c=a[t];s.append(c[0],c[1])}return s}}),A=M;import{createPlugin as T}from"seroval";function m(e){let r=[];return e.forEach((s,a)=>{r.push([a,s])}),r}var _=T({tag:"seroval-plugins/web/Headers",test(e){return typeof Headers=="undefined"?!1:e instanceof Headers},parse:{sync(e,r){return r.parse(m(e))},async async(e,r){return await r.parse(m(e))},stream(e,r){return r.parse(m(e))}},serialize(e,r){return"new Headers("+r.serialize(e)+")"},deserialize(e,r){return new Headers(r.deserialize(e))}}),i=_;import{createPlugin as k}from"seroval";var j=k({tag:"seroval-plugins/web/ImageData",test(e){return typeof ImageData=="undefined"?!1:e instanceof ImageData},parse:{sync(e,r){return{data:r.parse(e.data),width:r.parse(e.width),height:r.parse(e.height),options:r.parse({colorSpace:e.colorSpace})}},async async(e,r){return{data:await r.parse(e.data),width:await r.parse(e.width),height:await r.parse(e.height),options:await r.parse({colorSpace:e.colorSpace})}},stream(e,r){return{data:r.parse(e.data),width:r.parse(e.width),height:r.parse(e.height),options:r.parse({colorSpace:e.colorSpace})}}},serialize(e,r){return"new ImageData("+r.serialize(e.data)+","+r.serialize(e.width)+","+r.serialize(e.height)+","+r.serialize(e.options)+")"},deserialize(e,r){return new ImageData(r.deserialize(e.data),r.deserialize(e.width),r.deserialize(e.height),r.deserialize(e.options))}}),Y=j;import{createPlugin as w,createStream as v}from"seroval";var o={},V=w({tag:"seroval-plugins/web/ReadableStreamFactory",test(e){return e===o},parse:{sync(){},async async(){return await Promise.resolve(void 0)},stream(){}},serialize(e,r){return r.createFunction(["d"],"new ReadableStream({start:"+r.createEffectfulFunction(["c"],"d.on({next:"+r.createEffectfulFunction(["v"],"c.enqueue(v)")+",throw:"+r.createEffectfulFunction(["v"],"c.error(v)")+",return:"+r.createEffectfulFunction([],"c.close()")+"})")+"})")},deserialize(){return o}});function g(e){let r=v(),s=e.getReader();async function a(){try{let t=await s.read();t.done?r.return(t.value):(r.next(t.value),await a())}catch(t){r.throw(t)}}return a().catch(()=>{}),r}var G=w({tag:"seroval/plugins/web/ReadableStream",extends:[V],test(e){return typeof ReadableStream=="undefined"?!1:e instanceof ReadableStream},parse:{sync(e,r){return{factory:r.parse(o),stream:r.parse(v())}},async async(e,r){return{factory:await r.parse(o),stream:await r.parse(g(e))}},stream(e,r){return{factory:r.parse(o),stream:r.parse(g(e))}}},serialize(e,r){return"("+r.serialize(e.factory)+")("+r.serialize(e.stream)+")"},deserialize(e,r){let s=r.deserialize(e.stream);return new ReadableStream({start(a){s.on({next(t){a.enqueue(t)},throw(t){a.error(t)},return(){a.close()}})}})}}),l=G;import{createPlugin as J}from"seroval";function z(e,r){return{body:r,cache:e.cache,credentials:e.credentials,headers:e.headers,integrity:e.integrity,keepalive:e.keepalive,method:e.method,mode:e.mode,redirect:e.redirect,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var K=J({tag:"seroval-plugins/web/Request",extends:[l,i],test(e){return typeof Request=="undefined"?!1:e instanceof Request},parse:{async async(e,r){return{url:await r.parse(e.url),options:await r.parse(z(e,e.body?await e.clone().arrayBuffer():null))}},stream(e,r){return{url:r.parse(e.url),options:r.parse(z(e,e.clone().body))}}},serialize(e,r){return"new Request("+r.serialize(e.url)+","+r.serialize(e.options)+")"},deserialize(e,r){return new Request(r.deserialize(e.url),r.deserialize(e.options))}}),Q=K;import{createPlugin as W}from"seroval";function S(e){return{headers:e.headers,status:e.status,statusText:e.statusText}}var X=W({tag:"seroval-plugins/web/Response",extends:[l,i],test(e){return typeof Response=="undefined"?!1:e instanceof Response},parse:{async async(e,r){return{body:await r.parse(e.body?await e.clone().arrayBuffer():null),options:await r.parse(S(e))}},stream(e,r){return{body:r.parse(e.clone().body),options:r.parse(S(e))}}},serialize(e,r){return"new Response("+r.serialize(e.body)+","+r.serialize(e.options)+")"},deserialize(e,r){return new Response(r.deserialize(e.body),r.deserialize(e.options))}}),Z=X;import{createPlugin as $}from"seroval";var x=$({tag:"seroval-plugins/web/URLSearchParams",test(e){return typeof URLSearchParams=="undefined"?!1:e instanceof URLSearchParams},parse:{sync(e,r){return r.parse(e.toString())},async async(e,r){return await r.parse(e.toString())},stream(e,r){return r.parse(e.toString())}},serialize(e,r){return"new URLSearchParams("+r.serialize(e)+")"},deserialize(e,r){return new URLSearchParams(r.deserialize(e))}}),ee=x;import{createPlugin as re}from"seroval";var ae=re({tag:"seroval-plugins/web/URL",test(e){return typeof URL=="undefined"?!1:e instanceof URL},parse:{sync(e,r){return r.parse(e.href)},async async(e,r){return await r.parse(e.href)},stream(e,r){return r.parse(e.href)}},serialize(e,r){return"new URL("+r.serialize(e)+")"},deserialize(e,r){return new URL(r.deserialize(e))}}),te=ae;export{N as BlobPlugin,F as CustomEventPlugin,B as DOMExceptionPlugin,O as EventPlugin,d as FilePlugin,A as FormDataPlugin,i as HeadersPlugin,Y as ImageDataPlugin,l as ReadableStreamPlugin,Q as RequestPlugin,Z as ResponsePlugin,te as URLPlugin,ee as URLSearchParamsPlugin};
+import{createPlugin as R}from"seroval";var P=R({tag:"seroval-plugins/web/Blob",test(e){return typeof Blob=="undefined"?!1:e instanceof Blob},parse:{async async(e,r){return{type:await r.parse(e.type),buffer:await r.parse(await e.arrayBuffer())}}},serialize(e,r){return"new Blob(["+r.serialize(e.buffer)+"],{type:"+r.serialize(e.type)+"})"},deserialize(e,r){return new Blob([r.deserialize(e.buffer)],{type:r.deserialize(e.type)})}}),N=P;import{createPlugin as h}from"seroval";function p(e){return{detail:e.detail,bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}}var E=h({tag:"seroval-plugins/web/CustomEvent",test(e){return typeof CustomEvent=="undefined"?!1:e instanceof CustomEvent},parse:{sync(e,r){return{type:r.parse(e.type),options:r.parse(p(e))}},async async(e,r){return{type:await r.parse(e.type),options:await r.parse(p(e))}},stream(e,r){return{type:r.parse(e.type),options:r.parse(p(e))}}},serialize(e,r){return"new CustomEvent("+r.serialize(e.type)+","+r.serialize(e.options)+")"},deserialize(e,r){return new CustomEvent(r.deserialize(e.type),r.deserialize(e.options))}}),F=E;import{createPlugin as D}from"seroval";var I=D({tag:"seroval-plugins/web/DOMException",test(e){return typeof DOMException=="undefined"?!1:e instanceof DOMException},parse:{sync(e,r){return{name:r.parse(e.name),message:r.parse(e.message)}},async async(e,r){return{name:await r.parse(e.name),message:await r.parse(e.message)}},stream(e,r){return{name:r.parse(e.name),message:r.parse(e.message)}}},serialize(e,r){return"new DOMException("+r.serialize(e.message)+","+r.serialize(e.name)+")"},deserialize(e,r){return new DOMException(r.deserialize(e.message),r.deserialize(e.name))}}),B=I;import{createPlugin as C}from"seroval";function u(e){return{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}}var L=C({tag:"seroval-plugins/web/Event",test(e){return typeof Event=="undefined"?!1:e instanceof Event},parse:{sync(e,r){return{type:r.parse(e.type),options:r.parse(u(e))}},async async(e,r){return{type:await r.parse(e.type),options:await r.parse(u(e))}},stream(e,r){return{type:r.parse(e.type),options:r.parse(u(e))}}},serialize(e,r){return"new Event("+r.serialize(e.type)+","+r.serialize(e.options)+")"},deserialize(e,r){return new Event(r.deserialize(e.type),r.deserialize(e.options))}}),O=L;import{createPlugin as U}from"seroval";var q=U({tag:"seroval-plugins/web/File",test(e){return typeof File=="undefined"?!1:e instanceof File},parse:{async async(e,r){return{name:await r.parse(e.name),options:await r.parse({type:e.type,lastModified:e.lastModified}),buffer:await r.parse(await e.arrayBuffer())}}},serialize(e,r){return"new File(["+r.serialize(e.buffer)+"],"+r.serialize(e.name)+","+r.serialize(e.options)+")"},deserialize(e,r){return new File([r.deserialize(e.buffer)],r.deserialize(e.name),r.deserialize(e.options))}}),d=q;import{createPlugin as y}from"seroval";function f(e){let r=[];return e.forEach((s,a)=>{r.push([a,s])}),r}var n={},H=y({tag:"seroval-plugins/web/FormDataFactory",test(e){return e===n},parse:{sync(){},async async(){return await Promise.resolve(void 0)},stream(){}},serialize(e,r){return r.createEffectfulFunction(["e","f","i","s","t"],"f=new FormData;for(i=0,s=e.length;i<s;i++)f.append((t=e[i])[0],t[1]);return f")},deserialize(){return n}}),M=y({tag:"seroval-plugins/web/FormData",extends:[d,H],test(e){return typeof FormData=="undefined"?!1:e instanceof FormData},parse:{sync(e,r){return{factory:r.parse(n),entries:r.parse(f(e))}},async async(e,r){return{factory:await r.parse(n),entries:await r.parse(f(e))}},stream(e,r){return{factory:r.parse(n),entries:r.parse(f(e))}}},serialize(e,r){return"("+r.serialize(e.factory)+")("+r.serialize(e.entries)+")"},deserialize(e,r){let s=new FormData,a=r.deserialize(e.entries);for(let t=0,b=a.length;t<b;t++){let c=a[t];s.append(c[0],c[1])}return s}}),A=M;import{createPlugin as T}from"seroval";function m(e){let r=[];return e.forEach((s,a)=>{r.push([a,s])}),r}var _=T({tag:"seroval-plugins/web/Headers",test(e){return typeof Headers=="undefined"?!1:e instanceof Headers},parse:{sync(e,r){return r.parse(m(e))},async async(e,r){return await r.parse(m(e))},stream(e,r){return r.parse(m(e))}},serialize(e,r){return"new Headers("+r.serialize(e)+")"},deserialize(e,r){return new Headers(r.deserialize(e))}}),i=_;import{createPlugin as k}from"seroval";var j=k({tag:"seroval-plugins/web/ImageData",test(e){return typeof ImageData=="undefined"?!1:e instanceof ImageData},parse:{sync(e,r){return{data:r.parse(e.data),width:r.parse(e.width),height:r.parse(e.height),options:r.parse({colorSpace:e.colorSpace})}},async async(e,r){return{data:await r.parse(e.data),width:await r.parse(e.width),height:await r.parse(e.height),options:await r.parse({colorSpace:e.colorSpace})}},stream(e,r){return{data:r.parse(e.data),width:r.parse(e.width),height:r.parse(e.height),options:r.parse({colorSpace:e.colorSpace})}}},serialize(e,r){return"new ImageData("+r.serialize(e.data)+","+r.serialize(e.width)+","+r.serialize(e.height)+","+r.serialize(e.options)+")"},deserialize(e,r){return new ImageData(r.deserialize(e.data),r.deserialize(e.width),r.deserialize(e.height),r.deserialize(e.options))}}),Y=j;import{createPlugin as w,createStream as v}from"seroval";var o={},V=w({tag:"seroval-plugins/web/ReadableStreamFactory",test(e){return e===o},parse:{sync(){},async async(){return await Promise.resolve(void 0)},stream(){}},serialize(e,r){return r.createFunction(["d"],"new ReadableStream({start:"+r.createEffectfulFunction(["c"],"d.on({next:"+r.createEffectfulFunction(["v"],"c.enqueue(v)")+",throw:"+r.createEffectfulFunction(["v"],"c.error(v)")+",return:"+r.createEffectfulFunction([],"c.close()")+"})")+"})")},deserialize(){return o}});function g(e){let r=v(),s=e.getReader();async function a(){try{let t=await s.read();t.done?r.return(t.value):(r.next(t.value),await a())}catch(t){r.throw(t)}}return a().catch(()=>{}),r}var G=w({tag:"seroval/plugins/web/ReadableStream",extends:[V],test(e){return typeof ReadableStream=="undefined"?!1:e instanceof ReadableStream},parse:{sync(e,r){return{factory:r.parse(o),stream:r.parse(v())}},async async(e,r){return{factory:await r.parse(o),stream:await r.parse(g(e))}},stream(e,r){return{factory:r.parse(o),stream:r.parse(g(e))}}},serialize(e,r){return"("+r.serialize(e.factory)+")("+r.serialize(e.stream)+")"},deserialize(e,r){let s=r.deserialize(e.stream);return new ReadableStream({start(a){s.on({next(t){a.enqueue(t)},throw(t){a.error(t)},return(){a.close()}})}})}}),l=G;import{createPlugin as J}from"seroval";function z(e,r){return{body:r,headers:e.headers,integrity:e.integrity,keepalive:e.keepalive,method:e.method,redirect:e.redirect}}var K=J({tag:"seroval-plugins/web/Request",extends:[l,i],test(e){return typeof Request=="undefined"?!1:e instanceof Request},parse:{async async(e,r){return{url:await r.parse(e.url),options:await r.parse(z(e,e.body?await e.clone().arrayBuffer():null))}},stream(e,r){return{url:r.parse(e.url),options:r.parse(z(e,e.clone().body))}}},serialize(e,r){return"new Request("+r.serialize(e.url)+","+r.serialize(e.options)+")"},deserialize(e,r){return new Request(r.deserialize(e.url),r.deserialize(e.options))}}),Q=K;import{createPlugin as W}from"seroval";function S(e){return{headers:e.headers,status:e.status,statusText:e.statusText}}var X=W({tag:"seroval-plugins/web/Response",extends:[l,i],test(e){return typeof Response=="undefined"?!1:e instanceof Response},parse:{async async(e,r){return{body:await r.parse(e.body?await e.clone().arrayBuffer():null),options:await r.parse(S(e))}},stream(e,r){return{body:r.parse(e.clone().body),options:r.parse(S(e))}}},serialize(e,r){return"new Response("+r.serialize(e.body)+","+r.serialize(e.options)+")"},deserialize(e,r){return new Response(r.deserialize(e.body),r.deserialize(e.options))}}),Z=X;import{createPlugin as $}from"seroval";var x=$({tag:"seroval-plugins/web/URLSearchParams",test(e){return typeof URLSearchParams=="undefined"?!1:e instanceof URLSearchParams},parse:{sync(e,r){return r.parse(e.toString())},async async(e,r){return await r.parse(e.toString())},stream(e,r){return r.parse(e.toString())}},serialize(e,r){return"new URLSearchParams("+r.serialize(e)+")"},deserialize(e,r){return new URLSearchParams(r.deserialize(e))}}),ee=x;import{createPlugin as re}from"seroval";var ae=re({tag:"seroval-plugins/web/URL",test(e){return typeof URL=="undefined"?!1:e instanceof URL},parse:{sync(e,r){return r.parse(e.href)},async async(e,r){return await r.parse(e.href)},stream(e,r){return r.parse(e.href)}},serialize(e,r){return"new URL("+r.serialize(e)+")"},deserialize(e,r){return new URL(r.deserialize(e))}}),te=ae;export{N as BlobPlugin,F as CustomEventPlugin,B as DOMExceptionPlugin,O as EventPlugin,d as FilePlugin,A as FormDataPlugin,i as HeadersPlugin,Y as ImageDataPlugin,l as ReadableStreamPlugin,Q as RequestPlugin,Z as ResponsePlugin,te as URLPlugin,ee as URLSearchParamsPlugin};
diff --git a/web/request.ts b/web/request.ts
index 2c57f4f7d7b658a36716d5cd1992fe6bb33fb00f..9eae70d191375a101b01498a5805e82cc528793e 100644
--- a/web/request.ts
+++ b/web/request.ts
@@ -15,7 +15,7 @@ function createRequestOptions(
     integrity: current.integrity,
     keepalive: current.keepalive,
     method: current.method,
-    mode: current.mode,
+    // mode: current.mode,
     redirect: current.redirect,
     referrer: current.referrer,
     referrerPolicy: current.referrerPolicy,
